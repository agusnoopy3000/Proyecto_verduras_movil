# ğŸŒ± Huerto Hogar - DocumentaciÃ³n TÃ©cnica

## ğŸ“‹ InformaciÃ³n del Proyecto

| Campo | Valor |
|-------|-------|
| **Nombre** | Huerto Hogar |
| **VersiÃ³n** | 1.0.0 |
| **Plataforma** | Android (Jetpack Compose) |
| **Backend** | Spring Boot (AWS EC2) |
| **Base de Datos** | PostgreSQL/MySQL |
| **AutenticaciÃ³n** | JWT + Firebase (HÃ­brida) |

---

## ğŸ—ï¸ Arquitectura del Sistema

### Diagrama de Arquitectura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ARQUITECTURA HUERTO HOGAR                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   USUARIO       â”‚
                                    â”‚   (Cliente)     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸ“± APLICACIÃ“N MÃ“VIL ANDROID                                 â”‚
â”‚                                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                              CAPA DE PRESENTACIÃ“N (UI)                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Catalog    â”‚ â”‚   Cart      â”‚ â”‚  MyOrders   â”‚ â”‚  Profile    â”‚ â”‚   Admin     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Screen     â”‚ â”‚  Screen     â”‚ â”‚  Screen     â”‚ â”‚  Screen     â”‚ â”‚  Screens    â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚                         COMPONENTES REUTILIZABLES                           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   ProductCard â”‚ SuccessToast â”‚ QRScanner â”‚ WeatherWidget â”‚ NavigationBar    â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚                                               â”‚
â”‚                                          â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                              CAPA DE VIEWMODEL                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Catalog    â”‚ â”‚   Cart      â”‚ â”‚   Pedido    â”‚ â”‚   Auth      â”‚ â”‚  Weather    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ViewModel  â”‚ â”‚  ViewModel  â”‚ â”‚  ViewModel  â”‚ â”‚  ViewModel  â”‚ â”‚  ViewModel  â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                                    â”‚   â”‚
â”‚  â”‚   â€¢ StateFlow para estado reactivo                                                â”‚   â”‚
â”‚  â”‚   â€¢ Coroutines para operaciones asÃ­ncronas                                        â”‚   â”‚
â”‚  â”‚   â€¢ Lifecycle-aware (sobrevive rotaciones)                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚                                               â”‚
â”‚                                          â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                              CAPA DE REPOSITORIO                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚   â”‚
â”‚  â”‚  â”‚  Producto   â”‚ â”‚   Pedido    â”‚ â”‚    User     â”‚ â”‚  Documento  â”‚                 â”‚   â”‚
â”‚  â”‚  â”‚ Repository  â”‚ â”‚ Repository  â”‚ â”‚ Repository  â”‚ â”‚ Repository  â”‚                 â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚   â”‚
â”‚  â”‚         â”‚               â”‚               â”‚               â”‚                         â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚   â”‚
â”‚  â”‚                                  â”‚                                                 â”‚   â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚   â”‚
â”‚  â”‚              â–¼                                     â–¼                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚   â”‚
â”‚  â”‚  â”‚   LOCAL (Room DB)   â”‚              â”‚   REMOTO (Retrofit) â”‚                    â”‚   â”‚
â”‚  â”‚  â”‚   - Cache offline   â”‚              â”‚   - API Backend     â”‚                    â”‚   â”‚
â”‚  â”‚  â”‚   - Datos sesiÃ³n    â”‚              â”‚   - API Externa     â”‚                    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚                                               â”‚
â”‚                                          â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                           CAPA DE ACCESO A DATOS (DAL)                            â”‚   â”‚
â”‚  â”‚                                                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚         ROOM DATABASE           â”‚    â”‚         RETROFIT CLIENT             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                 â”‚    â”‚                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ UserDao   â”‚ â”‚ProductoDaoâ”‚   â”‚    â”‚  â”‚ApiService â”‚  â”‚WeatherService â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚  â”‚(Backend)  â”‚  â”‚(API Externa)  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ PedidoDao â”‚ â”‚DocumentoDao   â”‚    â”‚                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                 â”‚    â”‚  â”‚     TokenManager (JWT)      â”‚    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  AppDatabase (SQLite)          â”‚    â”‚  â”‚     SharedPreferences       â”‚    â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                           â”‚
                    â”‚ HTTP/HTTPS                                â”‚ HTTPS
                    â–¼                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â˜ï¸ AWS EC2 (Backend)           â”‚    â”‚       ğŸŒ¤ï¸ APIs EXTERNAS                    â”‚
â”‚         52.2.172.54:8080              â”‚    â”‚                                           â”‚
â”‚                                        â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”‚       OpenWeatherMap API            â”‚ â”‚
â”‚  â”‚       ğŸƒ SPRING BOOT              â”‚ â”‚    â”‚  â”‚   api.openweathermap.org            â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚    â”‚  â”‚   â€¢ Clima actual                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚    â”‚  â”‚   â€¢ PronÃ³stico                      â”‚ â”‚
â”‚  â”‚  â”‚      REST Controllers       â”‚  â”‚ â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚  â”‚  â€¢ AuthController           â”‚  â”‚ â”‚    â”‚                                           â”‚
â”‚  â”‚  â”‚  â€¢ ProductController        â”‚  â”‚ â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â”‚  â€¢ OrderController          â”‚  â”‚ â”‚    â”‚  â”‚         ğŸ”¥ Firebase                  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ UserController           â”‚  â”‚ â”‚    â”‚  â”‚   â€¢ Authentication                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚    â”‚  â”‚   â€¢ Google Sign-In                  â”‚ â”‚
â”‚  â”‚               â”‚                    â”‚ â”‚    â”‚  â”‚   â€¢ ID Token validation             â”‚ â”‚
â”‚  â”‚               â–¼                    â”‚ â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚    â”‚                                           â”‚
â”‚  â”‚  â”‚       Services Layer        â”‚  â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚  â”‚  â€¢ AuthService              â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ ProductService           â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ OrderService             â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚               â”‚                    â”‚ â”‚
â”‚  â”‚               â–¼                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚     JPA Repositories        â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚               â”‚                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                  â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       ğŸ—„ï¸ BASE DE DATOS           â”‚  â”‚
â”‚  â”‚       PostgreSQL / MySQL         â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚   â€¢ usuarios                     â”‚  â”‚
â”‚  â”‚   â€¢ productos                    â”‚  â”‚
â”‚  â”‚   â€¢ pedidos                      â”‚  â”‚
â”‚  â”‚   â€¢ detalle_pedidos              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Diagrama de Despliegue

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DIAGRAMA DE DESPLIEGUE                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                              DISPOSITIVOS CLIENTE                                  â”‚
    â”‚                                                                                    â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚   â”‚  ğŸ“± Android      â”‚    â”‚  ğŸ“± Android      â”‚    â”‚  ğŸ“± Android      â”‚              â”‚
    â”‚   â”‚  Smartphone     â”‚    â”‚  Tablet         â”‚    â”‚  Emulator       â”‚              â”‚
    â”‚   â”‚                 â”‚    â”‚                 â”‚    â”‚  (Dev/Test)     â”‚              â”‚
    â”‚   â”‚  APK firmado:   â”‚    â”‚  APK firmado:   â”‚    â”‚                 â”‚              â”‚
    â”‚   â”‚  huerto-hogar   â”‚    â”‚  huerto-hogar   â”‚    â”‚  Android Studio â”‚              â”‚
    â”‚   â”‚  .apk           â”‚    â”‚  .apk           â”‚    â”‚                 â”‚              â”‚
    â”‚   â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚              â”‚
    â”‚   â”‚  Min SDK: 24    â”‚    â”‚  Min SDK: 24    â”‚    â”‚  API Level: 34  â”‚              â”‚
    â”‚   â”‚  Target SDK: 34 â”‚    â”‚  Target SDK: 34 â”‚    â”‚                 â”‚              â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚            â”‚                      â”‚                      â”‚                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                      â”‚                      â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â”‚ HTTPS / HTTP
                                        â”‚ Puerto 8080
                                        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                   INTERNET                                         â”‚
    â”‚                              (Red PÃºblica AWS)                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚                      â”‚                      â”‚
                 â–¼                      â–¼                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ğŸ”¥ FIREBASE        â”‚  â”‚   â˜ï¸ AWS EC2         â”‚  â”‚   ğŸŒ¤ï¸ OpenWeatherMap â”‚
    â”‚   (Google Cloud)    â”‚  â”‚   (Backend)         â”‚  â”‚   (API Externa)    â”‚
    â”‚                     â”‚  â”‚                     â”‚  â”‚                     â”‚
    â”‚   RegiÃ³n: Global    â”‚  â”‚   RegiÃ³n: us-east-1 â”‚  â”‚   RegiÃ³n: Global   â”‚
    â”‚                     â”‚  â”‚   IP: 52.2.172.54   â”‚  â”‚                     â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚   Puerto: 8080      â”‚  â”‚   api.openweather  â”‚
    â”‚   â”‚ Firebase Auth â”‚ â”‚  â”‚                     â”‚  â”‚   map.org          â”‚
    â”‚   â”‚               â”‚ â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚                     â”‚
    â”‚   â”‚ â€¢ Google      â”‚ â”‚  â”‚   â”‚   EC2         â”‚ â”‚  â”‚   Endpoints:       â”‚
    â”‚   â”‚   Sign-In     â”‚ â”‚  â”‚   â”‚   Instance    â”‚ â”‚  â”‚   â€¢ /data/2.5/     â”‚
    â”‚   â”‚ â€¢ Email/Pass  â”‚ â”‚  â”‚   â”‚               â”‚ â”‚  â”‚     weather        â”‚
    â”‚   â”‚ â€¢ ID Tokens   â”‚ â”‚  â”‚   â”‚   t2.micro    â”‚ â”‚  â”‚                     â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚   â”‚   or t2.small â”‚ â”‚  â”‚   API Key:         â”‚
    â”‚                     â”‚  â”‚   â”‚               â”‚ â”‚  â”‚   Requerida        â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚   â”‚   Amazon      â”‚ â”‚  â”‚                     â”‚
    â”‚   â”‚ Firestore     â”‚ â”‚  â”‚   â”‚   Linux 2     â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚   â”‚ (opcional)    â”‚ â”‚  â”‚   â”‚               â”‚ â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                     â”‚  â”‚          â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â–¼          â”‚
                             â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                             â”‚   â”‚  Spring Boot  â”‚ â”‚
                             â”‚   â”‚  Application  â”‚ â”‚
                             â”‚   â”‚               â”‚ â”‚
                             â”‚   â”‚  Java 17      â”‚ â”‚
                             â”‚   â”‚  JAR Package  â”‚ â”‚
                             â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                             â”‚           â”‚         â”‚
                             â”‚           â–¼         â”‚
                             â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                             â”‚   â”‚   Database    â”‚ â”‚
                             â”‚   â”‚  PostgreSQL/  â”‚ â”‚
                             â”‚   â”‚    MySQL      â”‚ â”‚
                             â”‚   â”‚               â”‚ â”‚
                             â”‚   â”‚  Puerto: 5432 â”‚ â”‚
                             â”‚   â”‚  /3306        â”‚ â”‚
                             â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                             â”‚                     â”‚
                             â”‚   Security Group:   â”‚
                             â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                             â”‚   â”‚ Inbound:      â”‚ â”‚
                             â”‚   â”‚ â€¢ 22 (SSH)    â”‚ â”‚
                             â”‚   â”‚ â€¢ 8080 (API)  â”‚ â”‚
                             â”‚   â”‚ â€¢ 80 (HTTP)   â”‚ â”‚
                             â”‚   â”‚ â€¢ 443 (HTTPS) â”‚ â”‚
                             â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                             â”‚                     â”‚
                             â”‚   Elastic IP:       â”‚
                             â”‚   52.2.172.54       â”‚
                             â”‚                     â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Flujo de AutenticaciÃ³n HÃ­brida

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FLUJO DE AUTENTICACIÃ“N HÃBRIDA                                    â”‚
â”‚                         (Firebase + Spring Boot JWT)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


     ğŸ“± APP ANDROID                    ğŸ”¥ FIREBASE                    ğŸƒ SPRING BOOT
           â”‚                               â”‚                               â”‚
           â”‚                               â”‚                               â”‚
    â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚         OPCIÃ“N A: GOOGLE SIGN-IN                              â”‚
    â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚                               â”‚                               â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                         â”‚                               â”‚
     â”‚  Usuario  â”‚                         â”‚                               â”‚
     â”‚  pulsa    â”‚                         â”‚                               â”‚
     â”‚  "Google" â”‚                         â”‚                               â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                         â”‚                               â”‚
           â”‚                               â”‚                               â”‚
           â”‚ â”€â”€â”€ 1. signInWithCredential â”€â”€â”€â”€â”€>                           â”‚
           â”‚        (GoogleAuthProvider)   â”‚                               â”‚
           â”‚                               â”‚                               â”‚
           â”‚ <â”€â”€â”€ 2. FirebaseUser â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                               â”‚
           â”‚       + Firebase ID Token     â”‚                               â”‚
           â”‚                               â”‚                               â”‚
           â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•>
           â”‚              3. POST /auth/firebase-sync                      â”‚
           â”‚                 Body: {                                        â”‚
           â”‚                   "firebaseIdToken": "eyJ...",                â”‚
           â”‚                   "nombre": "...",                             â”‚
           â”‚                   "apellidos": "..."                           â”‚
           â”‚                 }                                              â”‚
           â”‚                               â”‚                               â”‚
           â”‚                               â”‚ <â”€â”€ 4. Verificar Token â”€â”€â”€â”€â”€â”€â”€â”‚
           â”‚                               â”‚     verifyIdToken()           â”‚
           â”‚                               â”‚                               â”‚
           â”‚                               â”‚ â”€â”€â”€ 5. Token VÃ¡lido â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
           â”‚                               â”‚     + uid, email              â”‚
           â”‚                               â”‚                               â”‚
           â”‚                               â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                               â”‚               â”‚ 6. Buscar usuario en DB       â”‚
           â”‚                               â”‚               â”‚    por firebase_uid           â”‚
           â”‚                               â”‚               â”‚                               â”‚
           â”‚                               â”‚               â”‚ 7. Si no existe â†’ CREAR       â”‚
           â”‚                               â”‚               â”‚    con datos de Firebase      â”‚
           â”‚                               â”‚               â”‚                               â”‚
           â”‚                               â”‚               â”‚ 8. Generar JWT propio         â”‚
           â”‚                               â”‚               â”‚    con claims personalizados  â”‚
           â”‚                               â”‚               â”‚    (rol, permisos, etc.)      â”‚
           â”‚                               â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                               â”‚                               â”‚
           â”‚ <â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚              9. AuthResponse                                  â”‚
           â”‚                 {                                              â”‚
           â”‚                   "token": "eyJ... (JWT Backend)",            â”‚
           â”‚                   "user": {                                    â”‚
           â”‚                     "email": "...",                            â”‚
           â”‚                     "nombre": "...",                           â”‚
           â”‚                     "rol": "CLIENTE"                           â”‚
           â”‚                   }                                            â”‚
           â”‚                 }                                              â”‚
           â”‚                               â”‚                               â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                         â”‚                               â”‚
     â”‚  Guardar  â”‚                         â”‚                               â”‚
     â”‚  JWT en   â”‚                         â”‚                               â”‚
     â”‚  Token    â”‚                         â”‚                               â”‚
     â”‚  Manager  â”‚                         â”‚                               â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                         â”‚                               â”‚
           â”‚                               â”‚                               â”‚
    â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚         OPCIÃ“N B: LOGIN DIRECTO (Email/Password)              â”‚
    â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚                               â”‚                               â”‚
           â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•>
           â”‚              POST /auth/login                                 â”‚
           â”‚              Body: { "email": "...", "password": "..." }      â”‚
           â”‚                               â”‚                               â”‚
           â”‚                               â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                               â”‚               â”‚ Validar credenciales en DB    â”‚
           â”‚                               â”‚               â”‚ Verificar password (BCrypt)   â”‚
           â”‚                               â”‚               â”‚ Generar JWT                   â”‚
           â”‚                               â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                               â”‚                               â”‚
           â”‚ <â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚              AuthResponse { token, user }                     â”‚
           â”‚                               â”‚                               â”‚
    â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚         USO POSTERIOR DE LA API (REQUESTS AUTENTICADOS)       â”‚
    â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚                               â”‚                               â”‚
           â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•>
           â”‚              GET /products                                    â”‚
           â”‚              Header: Authorization: Bearer <JWT>              â”‚
           â”‚                               â”‚                               â”‚
           â”‚                               â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                               â”‚               â”‚ JwtAuthFilter intercepta      â”‚
           â”‚                               â”‚               â”‚ Valida firma y expiraciÃ³n     â”‚
           â”‚                               â”‚               â”‚ Extrae usuario del token      â”‚
           â”‚                               â”‚               â”‚ Verifica permisos             â”‚
           â”‚                               â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                               â”‚                               â”‚
           â”‚ <â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â”‚              200 OK + Lista de productos                      â”‚
           â”‚                               â”‚                               â”‚
```

---

## ğŸ“ Estructura del Proyecto

### AplicaciÃ³n Android

```
app/src/main/java/com/example/app_verduras/
â”‚
â”œâ”€â”€ ğŸ“± MainActivity.kt              # Activity principal + NavegaciÃ³n
â”‚
â”œâ”€â”€ ğŸ“¦ Model/                       # Entidades de datos
â”‚   â”œâ”€â”€ User.kt                     # @Entity - Usuario
â”‚   â”œâ”€â”€ Producto.kt                 # @Entity - Producto
â”‚   â”œâ”€â”€ Pedido.kt                   # @Entity - Pedido
â”‚   â””â”€â”€ Documento.kt                # @Entity - Documento
â”‚
â”œâ”€â”€ ğŸŒ api/                         # Capa de Red
â”‚   â”œâ”€â”€ ApiService.kt               # Interface Retrofit (Backend)
â”‚   â”œâ”€â”€ RetrofitClient.kt           # ConfiguraciÃ³n Retrofit + TokenManager
â”‚   â”œâ”€â”€ models/                     # DTOs de API
â”‚   â”‚   â”œâ”€â”€ AuthModels.kt           # LoginRequest, RegisterRequest, AuthResponse
â”‚   â”‚   â”œâ”€â”€ ProductModels.kt        # ProductResponse
â”‚   â”‚   â””â”€â”€ OrderModels.kt          # OrderRequest, OrderResponse
â”‚   â””â”€â”€ external/
â”‚       â””â”€â”€ WeatherApiService.kt    # API Externa (OpenWeatherMap)
â”‚
â”œâ”€â”€ ğŸ” auth/                        # AutenticaciÃ³n
â”‚   â””â”€â”€ FirebaseAuthManager.kt      # GestiÃ³n Firebase Auth
â”‚
â”œâ”€â”€ ğŸ’¾ dal/                         # Data Access Layer (Room)
â”‚   â”œâ”€â”€ AppDatabase.kt              # ConfiguraciÃ³n Room Database
â”‚   â”œâ”€â”€ UserDao.kt                  # CRUD Usuarios
â”‚   â”œâ”€â”€ ProductoDao.kt              # CRUD Productos
â”‚   â”œâ”€â”€ PedidoDao.kt                # CRUD Pedidos
â”‚   â””â”€â”€ DocumentoDao.kt             # CRUD Documentos
â”‚
â”œâ”€â”€ ğŸ“š repository/                  # Repositorios (PatrÃ³n Repository)
â”‚   â”œâ”€â”€ UserRepository.kt           # LÃ³gica de datos Usuario
â”‚   â”œâ”€â”€ ProductoRepository.kt       # LÃ³gica de datos Producto
â”‚   â”œâ”€â”€ PedidoRepository.kt         # LÃ³gica de datos Pedido
â”‚   â””â”€â”€ DocumentoRepository.kt      # LÃ³gica de datos Documento
â”‚
â”œâ”€â”€ ğŸ§  viewmodel/                   # ViewModels (MVVM)
â”‚   â”œâ”€â”€ AuthViewModel.kt            # Estado de autenticaciÃ³n
â”‚   â”œâ”€â”€ CatalogViewModel.kt         # Estado del catÃ¡logo
â”‚   â”œâ”€â”€ CartViewModel.kt            # Estado del carrito
â”‚   â”œâ”€â”€ PedidoViewModel.kt          # Estado de pedidos
â”‚   â””â”€â”€ WeatherViewModel.kt         # Estado del clima
â”‚
â”œâ”€â”€ ğŸ¨ ui/                          # Interfaz de Usuario
â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”œâ”€â”€ Color.kt                # Paleta de colores
â”‚   â”‚   â”œâ”€â”€ Theme.kt                # Tema Material3
â”‚   â”‚   â””â”€â”€ Type.kt                 # TipografÃ­a
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                 # Componentes reutilizables
â”‚   â”‚   â”œâ”€â”€ SuccessToast.kt         # Toast animado
â”‚   â”‚   â”œâ”€â”€ ProductCard.kt          # Tarjeta de producto
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ screens/                    # Pantallas
â”‚       â”œâ”€â”€ LoginScreen.kt          # Inicio de sesiÃ³n
â”‚       â”œâ”€â”€ RegisterScreen.kt       # Registro
â”‚       â”œâ”€â”€ CatalogScreen.kt        # CatÃ¡logo de productos
â”‚       â”œâ”€â”€ CartScreen.kt           # Carrito de compras
â”‚       â”œâ”€â”€ MyOrdersScreen.kt       # Mis pedidos
â”‚       â”œâ”€â”€ ProfileScreen.kt        # Perfil de usuario
â”‚       â”œâ”€â”€ QRScannerScreen.kt      # EscÃ¡ner QR
â”‚       â”œâ”€â”€ UserManagementScreen.kt # Admin: GestiÃ³n usuarios
â”‚       â”œâ”€â”€ ProductManagementScreen.kt # Admin: GestiÃ³n productos
â”‚       â””â”€â”€ OrderManagementScreen.kt   # Admin: GestiÃ³n pedidos
â”‚
â””â”€â”€ ğŸ› ï¸ util/                        # Utilidades
    â”œâ”€â”€ ValidationUtils.kt          # Validaciones de formularios
    â”œâ”€â”€ SessionManager.kt           # GestiÃ³n de sesiÃ³n
    â””â”€â”€ ShippingCalculator.kt       # CÃ¡lculo de envÃ­o
```

### Backend Spring Boot

```
backend/src/main/java/com/huertohogar/
â”‚
â”œâ”€â”€ ğŸš€ HuertoHogarApplication.java  # Main Application
â”‚
â”œâ”€â”€ ğŸŒ controller/                  # REST Controllers
â”‚   â”œâ”€â”€ AuthController.java         # /api/v1/auth/*
â”‚   â”œâ”€â”€ ProductController.java      # /api/v1/products/*
â”‚   â”œâ”€â”€ OrderController.java        # /api/v1/orders/*
â”‚   â””â”€â”€ UserController.java         # /api/v1/users/*
â”‚
â”œâ”€â”€ ğŸ“¦ model/                       # Entidades JPA
â”‚   â”œâ”€â”€ User.java                   # @Entity Usuario
â”‚   â”œâ”€â”€ Product.java                # @Entity Producto
â”‚   â”œâ”€â”€ Order.java                  # @Entity Pedido
â”‚   â””â”€â”€ OrderItem.java              # @Entity Detalle Pedido
â”‚
â”œâ”€â”€ ğŸ“š repository/                  # JPA Repositories
â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”œâ”€â”€ ProductRepository.java
â”‚   â””â”€â”€ OrderRepository.java
â”‚
â”œâ”€â”€ âš™ï¸ service/                     # Business Logic
â”‚   â”œâ”€â”€ AuthService.java
â”‚   â”œâ”€â”€ ProductService.java
â”‚   â”œâ”€â”€ OrderService.java
â”‚   â””â”€â”€ UserService.java
â”‚
â”œâ”€â”€ ğŸ” security/                    # Seguridad
â”‚   â”œâ”€â”€ JwtService.java             # GeneraciÃ³n/ValidaciÃ³n JWT
â”‚   â”œâ”€â”€ JwtAuthFilter.java          # Filtro de autenticaciÃ³n
â”‚   â””â”€â”€ SecurityConfig.java         # ConfiguraciÃ³n Spring Security
â”‚
â””â”€â”€ ğŸ“„ dto/                         # Data Transfer Objects
    â”œâ”€â”€ LoginRequest.java
    â”œâ”€â”€ RegisterRequest.java
    â”œâ”€â”€ AuthResponse.java
    â””â”€â”€ ...
```

---

## ğŸ—„ï¸ Modelo de Base de Datos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              MODELO ENTIDAD-RELACIÃ“N                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        USUARIOS         â”‚         â”‚        PRODUCTOS        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id                  â”‚         â”‚ PK  id                  â”‚
â”‚     email        UNIQUE â”‚         â”‚     codigo       UNIQUE â”‚
â”‚     password     HASH   â”‚         â”‚     nombre              â”‚
â”‚     nombre              â”‚         â”‚     descripcion         â”‚
â”‚     apellido            â”‚         â”‚     precio              â”‚
â”‚     run          UNIQUE â”‚         â”‚     stock               â”‚
â”‚     direccion           â”‚         â”‚     imagen       URL    â”‚
â”‚     telefono            â”‚         â”‚     categoria           â”‚
â”‚     rol          ENUM   â”‚         â”‚     created_at          â”‚
â”‚     firebase_uid        â”‚         â”‚     updated_at          â”‚
â”‚     created_at          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚     updated_at          â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
            â”‚                                   â”‚
            â”‚ 1                                 â”‚ 1
            â”‚                                   â”‚
            â”‚ N                                 â”‚ N
            â–¼                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚         PEDIDOS         â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚ PK  id                  â”‚                     â”‚
â”‚ FK  usuario_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚     estado       ENUM   â”‚                     â”‚
â”‚     total               â”‚                     â”‚
â”‚     direccion_envio     â”‚                     â”‚
â”‚     metodo_pago         â”‚                     â”‚
â”‚     notas               â”‚                     â”‚
â”‚     created_at          â”‚                     â”‚
â”‚     updated_at          â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
            â”‚                                   â”‚
            â”‚ 1                                 â”‚
            â”‚                                   â”‚
            â”‚ N                                 â”‚
            â–¼                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     DETALLE_PEDIDOS     â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚ PK  id                  â”‚                     â”‚
â”‚ FK  pedido_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚ FK  producto_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚     cantidad            â”‚
â”‚     precio_unitario     â”‚
â”‚     subtotal            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ENUMS:

ROL:            ESTADO_PEDIDO:
â”œâ”€â”€ ADMIN       â”œâ”€â”€ PENDIENTE
â”œâ”€â”€ CLIENTE     â”œâ”€â”€ CONFIRMADO
â”œâ”€â”€ VENDEDOR    â”œâ”€â”€ EN_CAMINO
â””â”€â”€ REPARTIDOR  â”œâ”€â”€ ENTREGADO
                â””â”€â”€ CANCELADO
```

---

## ğŸ”Œ Endpoints de la API

### AutenticaciÃ³n

| MÃ©todo | Endpoint | DescripciÃ³n | Auth |
|--------|----------|-------------|------|
| POST | `/api/v1/auth/register` | Registrar usuario | âŒ |
| POST | `/api/v1/auth/login` | Iniciar sesiÃ³n | âŒ |
| POST | `/api/v1/auth/firebase-sync` | Sincronizar con Firebase | âŒ |

### Productos

| MÃ©todo | Endpoint | DescripciÃ³n | Auth |
|--------|----------|-------------|------|
| GET | `/api/v1/products` | Listar productos | âœ… |
| GET | `/api/v1/products?q={query}` | Buscar productos | âœ… |
| GET | `/api/v1/products/{id}` | Obtener por ID | âœ… |
| GET | `/api/v1/products/codigo/{codigo}` | Obtener por cÃ³digo | âœ… |

### Pedidos

| MÃ©todo | Endpoint | DescripciÃ³n | Auth |
|--------|----------|-------------|------|
| POST | `/api/v1/orders` | Crear pedido | âœ… |
| GET | `/api/v1/orders` | Mis pedidos | âœ… |
| GET | `/api/v1/orders/{id}` | Detalle pedido | âœ… |

### Usuarios

| MÃ©todo | Endpoint | DescripciÃ³n | Auth |
|--------|----------|-------------|------|
| GET | `/api/v1/users/me` | Mi perfil | âœ… |

---

## ğŸ› ï¸ TecnologÃ­as Utilizadas

### Frontend (Android)

| TecnologÃ­a | VersiÃ³n | Uso |
|------------|---------|-----|
| Kotlin | 1.9.x | Lenguaje principal |
| Jetpack Compose | 2024.06.00 | UI declarativa |
| Material Design 3 | 1.2.x | Componentes y tema |
| Room | 2.6.1 | Base de datos local |
| Retrofit | 2.9.0 | Cliente HTTP |
| OkHttp | 4.12.0 | Interceptores HTTP |
| Coroutines | 1.8.1 | ProgramaciÃ³n asÃ­ncrona |
| CameraX | 1.3.4 | Acceso a cÃ¡mara |
| ML Kit | 17.2.0 | Escaneo de cÃ³digos |
| Firebase Auth | 33.7.0 | AutenticaciÃ³n |
| Coil | 2.6.0 | Carga de imÃ¡genes |
| Lottie | 6.4.1 | Animaciones |

### Backend (Spring Boot)

| TecnologÃ­a | Uso |
|------------|-----|
| Java 17 | Lenguaje |
| Spring Boot 3.x | Framework |
| Spring Security | Seguridad |
| Spring Data JPA | ORM |
| PostgreSQL/MySQL | Base de datos |
| JWT (jjwt) | Tokens |
| Firebase Admin SDK | ValidaciÃ³n tokens |

### Infraestructura

| Servicio | Uso |
|----------|-----|
| AWS EC2 | Servidor backend |
| Firebase | AutenticaciÃ³n |
| OpenWeatherMap | API clima |

---

## ğŸ“± Requisitos del Sistema

### Android

- **SDK MÃ­nimo:** API 24 (Android 7.0)
- **SDK Objetivo:** API 34 (Android 14)
- **Permisos requeridos:**
  - `INTERNET`
  - `CAMERA`
  - `ACCESS_FINE_LOCATION`
  - `ACCESS_COARSE_LOCATION`

### Backend

- **Java:** 17+
- **RAM:** 1GB mÃ­nimo
- **Almacenamiento:** 10GB
- **Puerto:** 8080

---

## ğŸ‘¥ Roles de Usuario

| Rol | Permisos |
|-----|----------|
| **ADMIN** | GestiÃ³n completa: usuarios, productos, pedidos |
| **CLIENTE** | Ver catÃ¡logo, crear pedidos, ver sus pedidos |
| **VENDEDOR** | GestiÃ³n de productos, ver pedidos |
| **REPARTIDOR** | Ver y actualizar estado de pedidos asignados |

---

## ğŸ“ Notas de ImplementaciÃ³n

### Persistencia Local vs Remota

| Datos | Local (Room) | Remoto (API) |
|-------|--------------|--------------|
| Productos | Cache para offline | Fuente de verdad |
| Carrito | Temporal en memoria | Se envÃ­a al crear pedido |
| Pedidos | Cache para historial | Fuente de verdad |
| SesiÃ³n | JWT en SharedPreferences | ValidaciÃ³n en backend |

### Manejo de Errores

1. **Sin conexiÃ³n:** Se muestran datos cacheados
2. **Token expirado:** Redirect a login
3. **Error de API:** Toast con mensaje amigable
4. **ValidaciÃ³n:** Feedback visual en formularios

---

*DocumentaciÃ³n generada: Noviembre 2025*
*VersiÃ³n: 1.0.0*
